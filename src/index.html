<!DOCTYPE html>
<html lang="hu">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spotlight</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="mode-tabs">
        <div class="tab-pill origin-left"></div>
        <button class="mode-btn active" id="btn-normal" data-i18n="tab_search">Keresés</button>
        <button class="mode-btn" id="btn-ai" data-i18n="tab_ai">AI Mód</button>
      </div>
      <button class="settings-btn" id="btn-settings" title="Beállítások">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="3"></circle>
          <path
            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
          </path>
        </svg>
      </button>
    </div>
    <div class="search-bar">
      <div class="search-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </div>
      <input id="search" type="text" data-i18n-placeholder="search_placeholder"
        placeholder="Keresés alkalmazások, fájlok, parancsok között..." autocomplete="off" spellcheck="false">
      <button id="clear-btn" style="display: none;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>

    <div class="results-wrapper">
      <div id="results"></div>
    </div>

    <div class="footer" id="footer" style="display: none;">
      <div class="footer-hint">
        <kbd>↵</kbd> <span data-i18n="footer_open">Megnyitás</span>
      </div>
      <div class="footer-hint" title="Mappa megnyitása">
        <kbd>⇧</kbd>+<kbd>↵</kbd> <span data-i18n="footer_folder">Mappa</span>
      </div>
      <div class="footer-hint">
        <kbd>↓</kbd> <kbd>↑</kbd> <span data-i18n="footer_nav">Navigáció</span>
      </div>
      <div class="footer-hint">
        <kbd>esc</kbd> <span data-i18n="footer_close">Bezárás</span>
      </div>
    </div>

    <!-- Settings Overlay -->
    <div class="settings-overlay" id="settings-overlay" style="display: none;">
      <div class="settings-header">
        <h3 data-i18n="settings_title">Beállítások</h3>
        <button class="close-settings" id="btn-close-settings">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="settings-content">
        <div class="setting-group">
          <h4 data-i18n="settings_general">Általános</h4>
          <label class="setting-row">
            <span data-i18n="settings_lang">Nyelv</span>
            <select id="set-language" class="select-input small" style="width: auto;">
              <option value="hu">Magyar</option>
              <option value="en">English</option>
            </select>
          </label>
          <label class="setting-row">
            <span data-i18n="settings_theme">Téma</span>
            <select id="set-theme" class="select-input small" style="width: auto;">
              <option value="dark" data-i18n="theme_dark">Sötét</option>
              <option value="light" data-i18n="theme_light">Világos</option>
              <option value="ocean" data-i18n="theme_ocean">Óceán</option>
              <option value="forest" data-i18n="theme_forest">Erdő</option>
              <option value="midnight" data-i18n="theme_midnight">Éjfél (OLED)</option>
            </select>
          </label>
          <label class="setting-row">
            <span data-i18n="settings_hotkey">Gyorsbillentyű</span>
            <input type="text" id="set-hotkey" value="Alt+Space" class="text-input small" style="width: 120px;"
              spellcheck="false" title="Példa: Alt+Space, Super+Space">
          </label>
        </div>

        <div class="setting-group">
          <h4 data-i18n="settings_modules">Keresés & Modulok</h4>
          <label class="setting-row">
            <span data-i18n="settings_files">Fájlok keresése</span>
            <input type="checkbox" id="set-enable-files" class="toggle-switch">
          </label>
          <label class="setting-row">
            <span data-i18n="settings_bookmarks">Könyvjelzők keresése</span>
            <input type="checkbox" id="set-enable-bookmarks" class="toggle-switch">
          </label>
          <label class="setting-row">
            <span data-i18n="settings_web">Webes Keresés (g vagy ?)</span>
            <input type="checkbox" id="set-enable-web" class="toggle-switch">
          </label>
          <label class="setting-row">
            <span data-i18n="settings_sys">Rendszer Parancsok (lock, sleep...)</span>
            <input type="checkbox" id="set-enable-sys" class="toggle-switch">
          </label>
          <label class="setting-row">
            <span data-i18n="settings_calc">Számológép</span>
            <input type="checkbox" id="set-enable-calc" class="toggle-switch">
          </label>
          <label class="setting-row">
            <span data-i18n="settings_clip">Vágólap (clip)</span>
            <input type="checkbox" id="set-enable-clip" class="toggle-switch">
          </label>
          <label class="setting-row">
            <span data-i18n="settings_max">Max találatok száma</span>
            <input type="number" id="set-max-results" min="1" max="20" value="8" class="text-input small">
          </label>
        </div>

        <div class="setting-group">
          <h4 data-i18n="settings_aliases">Egyedi Gyorsparancsok (Aliasok)</h4>
          <p class="setting-hint" data-i18n="settings_aliases_hint">Használj JSON formátumot a parancsokhoz.</p>
          <textarea id="set-aliases" class="text-input" spellcheck="false"
            style="min-height: 80px; width: 100%; font-family: monospace; font-size: 11px; margin-top: 8px;"
            placeholder='{\n  "work": ["https://mail.google.com", "code ~/project"]\n}'></textarea>
        </div>

        <div class="setting-group">
          <h4 data-i18n="settings_ai">AI Mód</h4>
          <label class="setting-row">
            <span data-i18n="settings_provider">Szolgáltató</span>
            <select id="set-ai-provider" class="select-input">
              <option value="openai">OpenAI (ChatGPT)</option>
              <option value="gemini">Google Gemini</option>
              <option value="ollama">Ollama (Helyi)</option>
            </select>
          </label>

          <!-- OpenAI Settings -->
          <div id="openai-settings-block">
            <label class="setting-row vertical">
              <span data-i18n="settings_openai_key">OpenAI API Kulcs</span>
              <input type="password" id="set-openai-api-key" placeholder="sk-..." class="text-input" spellcheck="false">
            </label>
            <label class="setting-row">
              <span data-i18n="settings_model">Modell</span>
              <select id="set-openai-model" class="select-input">
                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                <option value="gpt-4o">GPT-4o</option>
              </select>
            </label>
          </div>

          <!-- Gemini Settings -->
          <div id="gemini-settings-block" style="display: none;">
            <label class="setting-row vertical">
              <span data-i18n="settings_gemini_key">Gemini API Kulcs</span>
              <input type="password" id="set-gemini-api-key" placeholder="AIzaSy..." class="text-input"
                spellcheck="false">
            </label>
            <label class="setting-row">
              <span data-i18n="settings_model">Modell</span>
              <select id="set-gemini-model" class="select-input">
                <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
                <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
              </select>
            </label>
          </div>

          <!-- Ollama Settings -->
          <div id="ollama-settings-block" style="display: none;">
            <label class="setting-row vertical">
              <span data-i18n="settings_ollama_url">Ollama URL</span>
              <input type="text" id="set-ollama-url" placeholder="http://localhost:11434" class="text-input"
                spellcheck="false">
            </label>
            <label class="setting-row vertical">
              <span data-i18n="settings_model">Modell</span>
              <input type="text" id="set-ollama-model" placeholder="llama3.2" class="text-input" spellcheck="false">
            </label>
          </div>
        </div>
      </div>
      <div class="settings-footer">
        <button id="btn-save-settings" class="primary-btn" data-i18n="settings_save">Mentés</button>
      </div>
    </div>

  </div>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
  <script src="renderer.js"></script>
</body>

</html>